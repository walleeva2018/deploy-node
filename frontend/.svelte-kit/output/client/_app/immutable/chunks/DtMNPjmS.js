const s="https://deploy-node-omega.vercel.app/api";class n{static async getAll(){try{const r=await fetch(`${s}/persons`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const t=await r.json();return t.data||t.persons||t}catch(r){throw console.error("Error fetching persons:",r),r}}static async getById(r){try{const t=await fetch(`${s}/persons/${r}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();return e.data||e.person||e}catch(t){throw console.error("Error fetching person:",t),t}}static async create(r){try{const t={firstName:r.firstName,lastName:r.lastName,email:r.email,phone:r.phone,address:{street:r.street||"",city:r.city||"",state:r.state||"",zipCode:r.zipCode||"",country:r.country||""},religion:r.religion||"",caste:r.caste||"",image:r.image||""},e=await fetch(`${s}/persons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.json();return o.data||o.person||o}catch(t){throw console.error("Error creating person:",t),t}}static async update(r,t){try{const e=await fetch(`${s}/persons/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.json();return o.data||o.person||o}catch(e){throw console.error("Error updating person:",e),e}}static async delete(r){try{const t=await fetch(`${s}/persons/${r}`,{method:"DELETE"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`)}catch(t){throw console.error("Error deleting person:",t),t}}static async filterByReligionCaste(r,t){try{return(await this.getAll()).filter(o=>!(r&&o.religion!==r||t&&o.caste!==t))}catch(e){throw console.error("Error filtering persons:",e),e}}}export{n as P};
