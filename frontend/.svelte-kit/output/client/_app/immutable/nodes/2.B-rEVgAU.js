import{S as qe,i as Ie,s as Ve,n as Y,d as _,a as W,m as c,b as L,c as u,r as se,e as v,f as C,h as q,g as H,u as re,p as G,j as p,k as I,t as R,v as ne,M as wt,w as ue,x as Ue,N as Ge,G as yt,O as Ne,P as he,Q as Qe,R as Je,y as fe,z as oe,A as Me,o as Et,q as Dt,B as je,C as xe,D as Be,E as Ae,L as Ke,T as We,U as Xe,F as Te}from"../chunks/udWJkB2W.js";import{e as ke,u as Nt,o as Pt}from"../chunks/Z6qFSLVo.js";import"../chunks/IHki7fMi.js";import{P as Pe}from"../chunks/DtMNPjmS.js";import{a as ve}from"../chunks/xuENUTr7.js";import{P as Mt}from"../chunks/DEmDFwBb.js";function Tt(s){let e,t,l=s[0].firstName.charAt(0).toUpperCase()+"",i;return{c(){e=p("div"),t=p("span"),i=R(l),this.h()},l(r){e=v(r,"DIV",{class:!0});var o=C(e);t=v(o,"SPAN",{class:!0});var f=C(t);i=H(f,l),f.forEach(_),o.forEach(_),this.h()},h(){c(t,"class","text-blue-600 font-medium text-lg"),c(e,"class","w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center")},m(r,o){L(r,e,o),u(e,t),u(t,i)},p(r,o){o&1&&l!==(l=r[0].firstName.charAt(0).toUpperCase()+"")&&W(i,l)},d(r){r&&_(e)}}}function qt(s){let e,t,l;return{c(){e=p("img"),this.h()},l(i){e=v(i,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ue(e.src,t=s[0].image)||c(e,"src",t),c(e,"alt",l=s[0].firstName+" "+s[0].lastName),c(e,"class","w-10 h-10 rounded-full object-cover border border-gray-200")},m(i,r){L(i,e,r)},p(i,r){r&1&&!Ue(e.src,t=i[0].image)&&c(e,"src",t),r&1&&l!==(l=i[0].firstName+" "+i[0].lastName)&&c(e,"alt",l)},d(i){i&&_(e)}}}function Ye(s){let e,t,l,i,r,o,f,n=s[0].religion&&Ze(s),a=s[0].religion&&s[0].caste&&$e(),d=s[0].caste&&et(s);return{c(){e=p("div"),t=ne("svg"),l=ne("path"),i=I(),r=p("span"),n&&n.c(),o=ue(),a&&a.c(),f=ue(),d&&d.c(),this.h()},l(h){e=v(h,"DIV",{class:!0});var m=C(e);t=re(m,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var k=C(t);l=re(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(l).forEach(_),k.forEach(_),i=q(m),r=v(m,"SPAN",{class:!0});var D=C(r);n&&n.l(D),o=ue(),a&&a.l(D),f=ue(),d&&d.l(D),D.forEach(_),m.forEach(_),this.h()},h(){c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(l,"stroke-width","2"),c(l,"d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"),c(t,"class","w-4 h-4 mr-2"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"stroke","currentColor"),c(r,"class","text-sm"),c(e,"class","flex items-center text-gray-600")},m(h,m){L(h,e,m),u(e,t),u(t,l),u(e,i),u(e,r),n&&n.m(r,null),u(r,o),a&&a.m(r,null),u(r,f),d&&d.m(r,null)},p(h,m){h[0].religion?n?n.p(h,m):(n=Ze(h),n.c(),n.m(r,o)):n&&(n.d(1),n=null),h[0].religion&&h[0].caste?a||(a=$e(),a.c(),a.m(r,f)):a&&(a.d(1),a=null),h[0].caste?d?d.p(h,m):(d=et(h),d.c(),d.m(r,null)):d&&(d.d(1),d=null)},d(h){h&&_(e),n&&n.d(),a&&a.d(),d&&d.d()}}}function Ze(s){let e=s[0].religion+"",t;return{c(){t=R(e)},l(l){t=H(l,e)},m(l,i){L(l,t,i)},p(l,i){i&1&&e!==(e=l[0].religion+"")&&W(t,e)},d(l){l&&_(t)}}}function $e(s){let e;return{c(){e=R("- ")},l(t){e=H(t,"- ")},m(t,l){L(t,e,l)},d(t){t&&_(e)}}}function et(s){let e=s[0].caste+"",t;return{c(){t=R(e)},l(l){t=H(l,e)},m(l,i){L(l,t,i)},p(l,i){i&1&&e!==(e=l[0].caste+"")&&W(t,e)},d(l){l&&_(t)}}}function tt(s){var m,k,D,x;let e,t,l,i,r,o,f,n,a=((m=s[0].address)==null?void 0:m.city)&&lt(s),d=((k=s[0].address)==null?void 0:k.city)&&((D=s[0].address)==null?void 0:D.state)&&st(),h=((x=s[0].address)==null?void 0:x.state)&&rt(s);return{c(){e=p("div"),t=ne("svg"),l=ne("path"),i=ne("path"),r=I(),o=p("span"),a&&a.c(),f=ue(),d&&d.c(),n=ue(),h&&h.c(),this.h()},l(g){e=v(g,"DIV",{class:!0});var B=C(e);t=re(B,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var j=C(t);l=re(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(l).forEach(_),i=re(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(i).forEach(_),j.forEach(_),r=q(B),o=v(B,"SPAN",{class:!0});var M=C(o);a&&a.l(M),f=ue(),d&&d.l(M),n=ue(),h&&h.l(M),M.forEach(_),B.forEach(_),this.h()},h(){c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(l,"stroke-width","2"),c(l,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(i,"stroke-width","2"),c(i,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),c(t,"class","w-4 h-4 mr-2"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"stroke","currentColor"),c(o,"class","text-sm"),c(e,"class","flex items-center text-gray-600")},m(g,B){L(g,e,B),u(e,t),u(t,l),u(t,i),u(e,r),u(e,o),a&&a.m(o,null),u(o,f),d&&d.m(o,null),u(o,n),h&&h.m(o,null)},p(g,B){var j,M,P,O;(j=g[0].address)!=null&&j.city?a?a.p(g,B):(a=lt(g),a.c(),a.m(o,f)):a&&(a.d(1),a=null),(M=g[0].address)!=null&&M.city&&((P=g[0].address)!=null&&P.state)?d||(d=st(),d.c(),d.m(o,n)):d&&(d.d(1),d=null),(O=g[0].address)!=null&&O.state?h?h.p(g,B):(h=rt(g),h.c(),h.m(o,null)):h&&(h.d(1),h=null)},d(g){g&&_(e),a&&a.d(),d&&d.d(),h&&h.d()}}}function lt(s){let e=s[0].address.city+"",t;return{c(){t=R(e)},l(l){t=H(l,e)},m(l,i){L(l,t,i)},p(l,i){i&1&&e!==(e=l[0].address.city+"")&&W(t,e)},d(l){l&&_(t)}}}function st(s){let e;return{c(){e=R(", ")},l(t){e=H(t,", ")},m(t,l){L(t,e,l)},d(t){t&&_(e)}}}function rt(s){let e=s[0].address.state+"",t;return{c(){t=R(e)},l(l){t=H(l,e)},m(l,i){L(l,t,i)},p(l,i){i&1&&e!==(e=l[0].address.state+"")&&W(t,e)},d(l){l&&_(t)}}}function It(s){var Le,Fe;let e,t,l,i,r,o,f,n=s[0].firstName+"",a,d,h=s[0].lastName+"",m,k,D,x=s[0].phone+"",g,B,j,M,P,O,ee,V,A=s[0].email+"",F,te,y,w,b,E,z,U,J,S,N,K,T,X,_e="Delete",me,ce;function pe(Q,le){return Q[0].image?qt:Tt}let ie=pe(s),ae=ie(s),Z=(s[0].religion||s[0].caste)&&Ye(s),$=(((Le=s[0].address)==null?void 0:Le.city)||((Fe=s[0].address)==null?void 0:Fe.state))&&tt(s);return{c(){e=p("div"),t=p("div"),l=p("div"),i=p("div"),ae.c(),r=I(),o=p("div"),f=p("h3"),a=R(n),d=I(),m=R(h),k=I(),D=p("p"),g=R(x),B=I(),j=p("div"),M=p("div"),P=ne("svg"),O=ne("path"),ee=I(),V=p("span"),F=R(A),te=I(),Z&&Z.c(),y=I(),$&&$.c(),w=I(),b=p("div"),E=p("a"),z=R("View Details"),J=I(),S=p("a"),N=R("Edit"),T=I(),X=p("button"),X.textContent=_e,this.h()},l(Q){e=v(Q,"DIV",{class:!0});var le=C(e);t=v(le,"DIV",{class:!0});var de=C(t);l=v(de,"DIV",{class:!0});var Ce=C(l);i=v(Ce,"DIV",{class:!0});var we=C(i);ae.l(we),r=q(we),o=v(we,"DIV",{});var ye=C(o);f=v(ye,"H3",{class:!0});var Ee=C(f);a=H(Ee,n),d=q(Ee),m=H(Ee,h),Ee.forEach(_),k=q(ye),D=v(ye,"P",{class:!0});var He=C(D);g=H(He,x),He.forEach(_),ye.forEach(_),we.forEach(_),Ce.forEach(_),B=q(de),j=v(de,"DIV",{class:!0});var ge=C(j);M=v(ge,"DIV",{class:!0});var De=C(M);P=re(De,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var Re=C(P);O=re(Re,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(O).forEach(_),Re.forEach(_),ee=q(De),V=v(De,"SPAN",{class:!0});var Oe=C(V);F=H(Oe,A),Oe.forEach(_),De.forEach(_),te=q(ge),Z&&Z.l(ge),y=q(ge),$&&$.l(ge),ge.forEach(_),w=q(de),b=v(de,"DIV",{class:!0});var be=C(b);E=v(be,"A",{href:!0,class:!0});var ze=C(E);z=H(ze,"View Details"),ze.forEach(_),J=q(be),S=v(be,"A",{href:!0,class:!0});var Se=C(S);N=H(Se,"Edit"),Se.forEach(_),T=q(be),X=v(be,"BUTTON",{class:!0,"data-svelte-h":!0}),G(X)!=="svelte-4zadhm"&&(X.textContent=_e),be.forEach(_),de.forEach(_),le.forEach(_),this.h()},h(){c(f,"class","text-lg font-medium text-gray-900"),c(D,"class","text-sm text-gray-500"),c(i,"class","flex items-center space-x-3"),c(l,"class","flex items-center justify-between mb-4"),c(O,"stroke-linecap","round"),c(O,"stroke-linejoin","round"),c(O,"stroke-width","2"),c(O,"d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"),c(P,"class","w-4 h-4 mr-2"),c(P,"fill","none"),c(P,"viewBox","0 0 24 24"),c(P,"stroke","currentColor"),c(V,"class","text-sm"),c(M,"class","flex items-center text-gray-600"),c(j,"class","space-y-2 mb-6"),c(E,"href",U="/person/"+s[0]._id),c(E,"class","flex-1 text-center bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors"),c(S,"href",K="/person/"+s[0]._id+"/edit"),c(S,"class","flex-1 text-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-md text-sm font-medium transition-colors"),c(X,"class","flex-1 bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-md text-sm font-medium transition-colors"),c(b,"class","flex items-center justify-between space-x-2"),c(t,"class","p-6"),c(e,"class","bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow")},m(Q,le){L(Q,e,le),u(e,t),u(t,l),u(l,i),ae.m(i,null),u(i,r),u(i,o),u(o,f),u(f,a),u(f,d),u(f,m),u(o,k),u(o,D),u(D,g),u(t,B),u(t,j),u(j,M),u(M,P),u(P,O),u(M,ee),u(M,V),u(V,F),u(j,te),Z&&Z.m(j,null),u(j,y),$&&$.m(j,null),u(t,w),u(t,b),u(b,E),u(E,z),u(b,J),u(b,S),u(S,N),u(b,T),u(b,X),me||(ce=se(X,"click",s[1]),me=!0)},p(Q,[le]){var de,Ce;ie===(ie=pe(Q))&&ae?ae.p(Q,le):(ae.d(1),ae=ie(Q),ae&&(ae.c(),ae.m(i,r))),le&1&&n!==(n=Q[0].firstName+"")&&W(a,n),le&1&&h!==(h=Q[0].lastName+"")&&W(m,h),le&1&&x!==(x=Q[0].phone+"")&&W(g,x),le&1&&A!==(A=Q[0].email+"")&&W(F,A),Q[0].religion||Q[0].caste?Z?Z.p(Q,le):(Z=Ye(Q),Z.c(),Z.m(j,y)):Z&&(Z.d(1),Z=null),(de=Q[0].address)!=null&&de.city||(Ce=Q[0].address)!=null&&Ce.state?$?$.p(Q,le):($=tt(Q),$.c(),$.m(j,null)):$&&($.d(1),$=null),le&1&&U!==(U="/person/"+Q[0]._id)&&c(E,"href",U),le&1&&K!==(K="/person/"+Q[0]._id+"/edit")&&c(S,"href",K)},i:Y,o:Y,d(Q){Q&&_(e),ae.d(),Z&&Z.d(),$&&$.d(),me=!1,ce()}}}function Vt(s,e,t){let{person:l}=e;const i=wt();function r(){i("delete")}return s.$$set=o=>{"person"in o&&t(0,l=o.person)},[l,r]}class jt extends qe{constructor(e){super(),Ie(this,e,Vt,It,Ve,{person:0})}}function nt(s,e,t){const l=s.slice();return l[13]=e[t],l}function it(s,e,t){const l=s.slice();return l[16]=e[t],l}function ot(s){let e,t="Clear Filters",l,i;return{c(){e=p("button"),e.textContent=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-2t5054"&&(e.textContent=t),this.h()},h(){c(e,"class","clear-button svelte-fdqqn8")},m(r,o){L(r,e,o),l||(i=se(e,"click",s[5]),l=!0)},p:Y,d(r){r&&_(e),l=!1,i()}}}function at(s){let e,t=s[16]+"",l,i;return{c(){e=p("option"),l=R(t),this.h()},l(r){e=v(r,"OPTION",{});var o=C(e);l=H(o,t),o.forEach(_),this.h()},h(){e.__value=i=s[16],he(e,e.__value)},m(r,o){L(r,e,o),u(e,l)},p(r,o){o&4&&t!==(t=r[16]+"")&&W(l,t),o&4&&i!==(i=r[16])&&(e.__value=i,he(e,e.__value))},d(r){r&&_(e)}}}function ft(s){let e,t=s[13]+"",l,i;return{c(){e=p("option"),l=R(t),this.h()},l(r){e=v(r,"OPTION",{});var o=C(e);l=H(o,t),o.forEach(_),this.h()},h(){e.__value=i=s[13],he(e,e.__value)},m(r,o){L(r,e,o),u(e,l)},p(r,o){o&8&&t!==(t=r[13]+"")&&W(l,t),o&8&&i!==(i=r[13])&&(e.__value=i,he(e,e.__value))},d(r){r&&_(e)}}}function ut(s){let e,t="Select a religion first";return{c(){e=p("p"),e.textContent=t,this.h()},l(l){e=v(l,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-lj1auu"&&(e.textContent=t),this.h()},h(){c(e,"class","help-text svelte-fdqqn8")},m(l,i){L(l,e,i)},d(l){l&&_(e)}}}function ct(s){let e,t,l="Active filters:",i,r,o=s[0]&&dt(s),f=s[1]&&ht(s);return{c(){e=p("div"),t=p("span"),t.textContent=l,i=I(),o&&o.c(),r=I(),f&&f.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var a=C(e);t=v(a,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1sskmtf"&&(t.textContent=l),i=q(a),o&&o.l(a),r=q(a),f&&f.l(a),a.forEach(_),this.h()},h(){c(t,"class","filter-label svelte-fdqqn8"),c(e,"class","active-filters svelte-fdqqn8")},m(n,a){L(n,e,a),u(e,t),u(e,i),o&&o.m(e,null),u(e,r),f&&f.m(e,null)},p(n,a){n[0]?o?o.p(n,a):(o=dt(n),o.c(),o.m(e,r)):o&&(o.d(1),o=null),n[1]?f?f.p(n,a):(f=ht(n),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(n){n&&_(e),o&&o.d(),f&&f.d()}}}function dt(s){let e,t,l,i,r,o="×",f,n;return{c(){e=p("span"),t=R("Religion: "),l=R(s[0]),i=I(),r=p("button"),r.textContent=o,this.h()},l(a){e=v(a,"SPAN",{class:!0});var d=C(e);t=H(d,"Religion: "),l=H(d,s[0]),i=q(d),r=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1h3ba4r"&&(r.textContent=o),d.forEach(_),this.h()},h(){c(r,"class","remove-tag svelte-fdqqn8"),c(e,"class","filter-tag svelte-fdqqn8")},m(a,d){L(a,e,d),u(e,t),u(e,l),u(e,i),u(e,r),f||(n=se(r,"click",s[10]),f=!0)},p(a,d){d&1&&W(l,a[0])},d(a){a&&_(e),f=!1,n()}}}function ht(s){let e,t,l,i,r,o="×",f,n;return{c(){e=p("span"),t=R("Caste: "),l=R(s[1]),i=I(),r=p("button"),r.textContent=o,this.h()},l(a){e=v(a,"SPAN",{class:!0});var d=C(e);t=H(d,"Caste: "),l=H(d,s[1]),i=q(d),r=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1wykg5d"&&(r.textContent=o),d.forEach(_),this.h()},h(){c(r,"class","remove-tag svelte-fdqqn8"),c(e,"class","filter-tag svelte-fdqqn8")},m(a,d){L(a,e,d),u(e,t),u(e,l),u(e,i),u(e,r),f||(n=se(r,"click",s[11]),f=!0)},p(a,d){d&2&&W(l,a[1])},d(a){a&&_(e),f=!1,n()}}}function xt(s){let e,t,l,i="Filter by Religion & Caste",r,o,f,n,a,d="Religion",h,m,k,D="All Religions",x,g,B,j="Caste",M,P,O,ee="All Castes",V,A,F,te,y,w=(s[0]||s[1])&&ot(s),b=ke(s[2].map(_t)),E=[];for(let N=0;N<b.length;N+=1)E[N]=at(it(s,b,N));let z=ke(s[3]),U=[];for(let N=0;N<z.length;N+=1)U[N]=ft(nt(s,z,N));let J=!s[0]&&ut(),S=(s[0]||s[1])&&ct(s);return{c(){e=p("div"),t=p("div"),l=p("h3"),l.textContent=i,r=I(),w&&w.c(),o=I(),f=p("div"),n=p("div"),a=p("label"),a.textContent=d,h=I(),m=p("select"),k=p("option"),k.textContent=D;for(let N=0;N<E.length;N+=1)E[N].c();x=I(),g=p("div"),B=p("label"),B.textContent=j,M=I(),P=p("select"),O=p("option"),O.textContent=ee;for(let N=0;N<U.length;N+=1)U[N].c();A=I(),J&&J.c(),F=I(),S&&S.c(),this.h()},l(N){e=v(N,"DIV",{class:!0});var K=C(e);t=v(K,"DIV",{class:!0});var T=C(t);l=v(T,"H3",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1cspgck"&&(l.textContent=i),r=q(T),w&&w.l(T),T.forEach(_),o=q(K),f=v(K,"DIV",{class:!0});var X=C(f);n=v(X,"DIV",{class:!0});var _e=C(n);a=v(_e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(a)!=="svelte-po9tv3"&&(a.textContent=d),h=q(_e),m=v(_e,"SELECT",{id:!0,class:!0});var me=C(m);k=v(me,"OPTION",{"data-svelte-h":!0}),G(k)!=="svelte-m4l7sj"&&(k.textContent=D);for(let ie=0;ie<E.length;ie+=1)E[ie].l(me);me.forEach(_),_e.forEach(_),x=q(X),g=v(X,"DIV",{class:!0});var ce=C(g);B=v(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(B)!=="svelte-1fpf4kl"&&(B.textContent=j),M=q(ce),P=v(ce,"SELECT",{id:!0,class:!0});var pe=C(P);O=v(pe,"OPTION",{"data-svelte-h":!0}),G(O)!=="svelte-1uowrf0"&&(O.textContent=ee);for(let ie=0;ie<U.length;ie+=1)U[ie].l(pe);pe.forEach(_),A=q(ce),J&&J.l(ce),ce.forEach(_),X.forEach(_),F=q(K),S&&S.l(K),K.forEach(_),this.h()},h(){c(l,"class","filter-title svelte-fdqqn8"),c(t,"class","filter-header svelte-fdqqn8"),c(a,"for","filter-religion"),c(a,"class","form-label svelte-fdqqn8"),k.__value="",he(k,k.__value),c(m,"id","filter-religion"),c(m,"class","form-select svelte-fdqqn8"),s[0]===void 0&&Qe(()=>s[8].call(m)),c(n,"class","form-group svelte-fdqqn8"),c(B,"for","filter-caste"),c(B,"class","form-label svelte-fdqqn8"),O.__value="",he(O,O.__value),c(P,"id","filter-caste"),c(P,"class","form-select svelte-fdqqn8"),P.disabled=V=!s[0]||s[3].length===0,s[1]===void 0&&Qe(()=>s[9].call(P)),c(g,"class","form-group svelte-fdqqn8"),c(f,"class","filter-controls svelte-fdqqn8"),c(e,"class","filter-container svelte-fdqqn8")},m(N,K){L(N,e,K),u(e,t),u(t,l),u(t,r),w&&w.m(t,null),u(e,o),u(e,f),u(f,n),u(n,a),u(n,h),u(n,m),u(m,k);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(m,null);Ne(m,s[0],!0),u(f,x),u(f,g),u(g,B),u(g,M),u(g,P),u(P,O);for(let T=0;T<U.length;T+=1)U[T]&&U[T].m(P,null);Ne(P,s[1],!0),u(g,A),J&&J.m(g,null),u(e,F),S&&S.m(e,null),te||(y=[se(m,"change",s[8]),se(m,"change",s[6]),se(P,"change",s[9]),se(P,"change",s[7])],te=!0)},p(N,[K]){if(N[0]||N[1]?w?w.p(N,K):(w=ot(N),w.c(),w.m(t,null)):w&&(w.d(1),w=null),K&4){b=ke(N[2].map(_t));let T;for(T=0;T<b.length;T+=1){const X=it(N,b,T);E[T]?E[T].p(X,K):(E[T]=at(X),E[T].c(),E[T].m(m,null))}for(;T<E.length;T+=1)E[T].d(1);E.length=b.length}if(K&5&&Ne(m,N[0]),K&8){z=ke(N[3]);let T;for(T=0;T<z.length;T+=1){const X=nt(N,z,T);U[T]?U[T].p(X,K):(U[T]=ft(X),U[T].c(),U[T].m(P,null))}for(;T<U.length;T+=1)U[T].d(1);U.length=z.length}K&13&&V!==(V=!N[0]||N[3].length===0)&&(P.disabled=V),K&10&&Ne(P,N[1]),N[0]?J&&(J.d(1),J=null):J||(J=ut(),J.c(),J.m(g,null)),N[0]||N[1]?S?S.p(N,K):(S=ct(N),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},i:Y,o:Y,d(N){N&&_(e),w&&w.d(),Ge(E,N),Ge(U,N),J&&J.d(),S&&S.d(),te=!1,yt(y)}}}const _t=s=>s.religion;function Bt(s,e,t){let{filterReligion:l=""}=e,{filterCaste:i=""}=e,{religionCasteData:r=[]}=e;const o=wt();let f=[];function n(){(l||i)&&o("filter",{religion:l,caste:i})}function a(){t(0,l=""),t(1,i=""),o("clear")}function d(){n()}function h(){n()}function m(){l=Je(this),t(0,l),t(2,r)}function k(){i=Je(this),t(1,i),t(0,l),t(2,r),t(3,f),t(0,l),t(2,r)}const D=()=>{t(0,l=""),a()},x=()=>{t(1,i=""),n()};return s.$$set=g=>{"filterReligion"in g&&t(0,l=g.filterReligion),"filterCaste"in g&&t(1,i=g.filterCaste),"religionCasteData"in g&&t(2,r=g.religionCasteData)},s.$$.update=()=>{if(s.$$.dirty&5)if(l&&r.length>0){const g=r.find(B=>B.religion===l);t(3,f=g?g.castes:[])}else t(3,f=[]),t(1,i="")},[l,i,r,f,n,a,d,h,m,k,D,x]}class At extends qe{constructor(e){super(),Ie(this,e,Bt,xt,Ve,{filterReligion:0,filterCaste:1,religionCasteData:2})}}function mt(s,e,t){const l=s.slice();return l[24]=e[t],l}function vt(s){let e,t,l='<h2 class="text-lg font-medium text-gray-900">Add New Person</h2> <p class="text-sm text-gray-600">Fill out the form below to add a new person</p>',i,r,o,f,n;return f=new Mt({props:{loading:s[6],submitLabel:"Create Person",religionCasteData:s[0].religionCasteData}}),f.$on("submit",s[15]),f.$on("cancel",s[16]),{c(){e=p("div"),t=p("div"),t.innerHTML=l,i=I(),r=p("div"),o=p("div"),Ae(f.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var d=C(e);t=v(d,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-5frsp5"&&(t.innerHTML=l),i=q(d),r=v(d,"DIV",{class:!0});var h=C(r);o=v(h,"DIV",{class:!0});var m=C(o);Be(f.$$.fragment,m),m.forEach(_),h.forEach(_),d.forEach(_),this.h()},h(){c(t,"class","p-4 border-b border-gray-200"),c(o,"class","max-w-3xl mx-auto"),c(r,"class","p-4"),c(e,"class","bg-white border border-gray-200 rounded-lg shadow-sm max-w-4xl mx-auto")},m(a,d){L(a,e,d),u(e,t),u(e,i),u(e,r),u(r,o),xe(f,o,null),n=!0},p(a,d){const h={};d&64&&(h.loading=a[6]),d&1&&(h.religionCasteData=a[0].religionCasteData),f.$set(h)},i(a){n||(oe(f.$$.fragment,a),n=!0)},o(a){fe(f.$$.fragment,a),n=!1},d(a){a&&_(e),je(f)}}}function pt(s){let e,t,l,i;function r(n){s[18](n)}function o(n){s[19](n)}let f={religionCasteData:s[0].religionCasteData};return s[7]!==void 0&&(f.filterReligion=s[7]),s[8]!==void 0&&(f.filterCaste=s[8]),e=new At({props:f}),Ke.push(()=>We(e,"filterReligion",r)),Ke.push(()=>We(e,"filterCaste",o)),e.$on("filter",s[12]),e.$on("clear",s[13]),{c(){Ae(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){xe(e,n,a),i=!0},p(n,a){const d={};a&1&&(d.religionCasteData=n[0].religionCasteData),!t&&a&128&&(t=!0,d.filterReligion=n[7],Xe(()=>t=!1)),!l&&a&256&&(l=!0,d.filterCaste=n[8],Xe(()=>l=!1)),e.$set(d)},i(n){i||(oe(e.$$.fragment,n),i=!0)},o(n){fe(e.$$.fragment,n),i=!1},d(n){je(e,n)}}}function gt(s){let e,t,l,i,r,o,f,n,a,d,h=s[2]&&bt(s),m=s[2]&&s[10].length<s[1].length&&kt(s);return{c(){e=p("div"),t=p("div"),l=ne("svg"),i=ne("path"),r=I(),o=p("input"),f=I(),h&&h.c(),n=I(),m&&m.c(),this.h()},l(k){e=v(k,"DIV",{class:!0});var D=C(e);t=v(D,"DIV",{class:!0});var x=C(t);l=re(x,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var g=C(l);i=re(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(i).forEach(_),g.forEach(_),r=q(x),o=v(x,"INPUT",{type:!0,placeholder:!0,class:!0}),f=q(x),h&&h.l(x),x.forEach(_),n=q(D),m&&m.l(D),D.forEach(_),this.h()},h(){c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(i,"stroke-width","2"),c(i,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),c(l,"class","w-5 h-5 text-gray-400"),c(l,"fill","none"),c(l,"viewBox","0 0 24 24"),c(l,"stroke","currentColor"),c(o,"type","text"),c(o,"placeholder","Search by name, email, phone, or location..."),c(o,"class","flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),c(t,"class","flex items-center space-x-3"),c(e,"class","bg-white rounded-lg shadow-sm p-4")},m(k,D){L(k,e,D),u(e,t),u(t,l),u(l,i),u(t,r),u(t,o),he(o,s[2]),u(t,f),h&&h.m(t,null),u(e,n),m&&m.m(e,null),a||(d=se(o,"input",s[20]),a=!0)},p(k,D){D&4&&o.value!==k[2]&&he(o,k[2]),k[2]?h?h.p(k,D):(h=bt(k),h.c(),h.m(t,null)):h&&(h.d(1),h=null),k[2]&&k[10].length<k[1].length?m?m.p(k,D):(m=kt(k),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(k){k&&_(e),h&&h.d(),m&&m.d(),a=!1,d()}}}function bt(s){let e,t='<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',l,i;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-15ea02h"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-gray-400 hover:text-gray-600")},m(r,o){L(r,e,o),l||(i=se(e,"click",s[21]),l=!0)},p:Y,d(r){r&&_(e),l=!1,i()}}}function kt(s){let e,t,l=s[10].length+"",i,r,o=s[1].length+"",f,n;return{c(){e=p("p"),t=R("Showing "),i=R(l),r=R(" of "),f=R(o),n=R(" people"),this.h()},l(a){e=v(a,"P",{class:!0});var d=C(e);t=H(d,"Showing "),i=H(d,l),r=H(d," of "),f=H(d,o),n=H(d," people"),d.forEach(_),this.h()},h(){c(e,"class","text-sm text-gray-600 mt-2")},m(a,d){L(a,e,d),u(e,t),u(e,i),u(e,r),u(e,f),u(e,n)},p(a,d){d&1024&&l!==(l=a[10].length+"")&&W(i,l),d&2&&o!==(o=a[1].length+"")&&W(f,o)},d(a){a&&_(e)}}}function Lt(s){let e,t=[],l=new Map,i,r=ke(s[10]);const o=f=>f[24]._id;for(let f=0;f<r.length;f+=1){let n=mt(s,r,f),a=o(n);l.set(a,t[f]=Ct(a,n))}return{c(){e=p("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=v(f,"DIV",{class:!0});var n=C(e);for(let a=0;a<t.length;a+=1)t[a].l(n);n.forEach(_),this.h()},h(){c(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6")},m(f,n){L(f,e,n);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);i=!0},p(f,n){n&17408&&(r=ke(f[10]),Te(),t=Nt(t,n,o,1,f,r,l,e,Pt,Ct,null,mt),Me())},i(f){if(!i){for(let n=0;n<r.length;n+=1)oe(t[n]);i=!0}},o(f){for(let n=0;n<t.length;n+=1)fe(t[n]);i=!1},d(f){f&&_(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function Ft(s){let e,t,l,i,r,o="No matches found",f,n,a="Try adjusting your search terms.",d,h,m="Clear search",k,D;return{c(){e=p("div"),t=ne("svg"),l=ne("path"),i=I(),r=p("h3"),r.textContent=o,f=I(),n=p("p"),n.textContent=a,d=I(),h=p("button"),h.textContent=m,this.h()},l(x){e=v(x,"DIV",{class:!0});var g=C(e);t=re(g,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var B=C(t);l=re(B,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(l).forEach(_),B.forEach(_),i=q(g),r=v(g,"H3",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1g9s5mw"&&(r.textContent=o),f=q(g),n=v(g,"P",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-3cbqzd"&&(n.textContent=a),d=q(g),h=v(g,"BUTTON",{class:!0,"data-svelte-h":!0}),G(h)!=="svelte-e43agf"&&(h.textContent=m),g.forEach(_),this.h()},h(){c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(l,"stroke-width","2"),c(l,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),c(t,"class","mx-auto h-12 w-12 text-gray-400"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"stroke","currentColor"),c(r,"class","mt-2 text-lg font-medium text-gray-900"),c(n,"class","mt-1 text-gray-500"),c(h,"class","mt-4 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"),c(e,"class","text-center py-12")},m(x,g){L(x,e,g),u(e,t),u(t,l),u(e,i),u(e,r),u(e,f),u(e,n),u(e,d),u(e,h),k||(D=se(h,"click",s[22]),k=!0)},p:Y,i:Y,o:Y,d(x){x&&_(e),k=!1,D()}}}function Ht(s){let e,t,l,i,r,o="No persons found with this filter",f,n,a,d,h=s[7]&&s[8]?" - ":"",m,k,D,x,g,B="Try adding religion/caste information to existing persons or create new persons with these details.",j,M,P,O="Clear Filter",ee,V,A="Add New Person",F,te;return{c(){e=p("div"),t=ne("svg"),l=ne("path"),i=I(),r=p("h3"),r.textContent=o,f=I(),n=p("p"),a=R("No persons match "),d=R(s[7]),m=R(h),k=R(s[8]),D=R("."),x=I(),g=p("p"),g.textContent=B,j=I(),M=p("div"),P=p("button"),P.textContent=O,ee=I(),V=p("button"),V.textContent=A,this.h()},l(y){e=v(y,"DIV",{class:!0});var w=C(e);t=re(w,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var b=C(t);l=re(b,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(l).forEach(_),b.forEach(_),i=q(w),r=v(w,"H3",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-exeh2h"&&(r.textContent=o),f=q(w),n=v(w,"P",{class:!0});var E=C(n);a=H(E,"No persons match "),d=H(E,s[7]),m=H(E,h),k=H(E,s[8]),D=H(E,"."),E.forEach(_),x=q(w),g=v(w,"P",{class:!0,"data-svelte-h":!0}),G(g)!=="svelte-vw4b8e"&&(g.textContent=B),j=q(w),M=v(w,"DIV",{class:!0});var z=C(M);P=v(z,"BUTTON",{class:!0,"data-svelte-h":!0}),G(P)!=="svelte-skmhlw"&&(P.textContent=O),ee=q(z),V=v(z,"BUTTON",{class:!0,"data-svelte-h":!0}),G(V)!=="svelte-17y5awe"&&(V.textContent=A),z.forEach(_),w.forEach(_),this.h()},h(){c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(l,"stroke-width","2"),c(l,"d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"),c(t,"class","mx-auto h-12 w-12 text-gray-400"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"stroke","currentColor"),c(r,"class","mt-2 text-lg font-medium text-gray-900"),c(n,"class","mt-1 text-gray-500"),c(g,"class","mt-2 text-sm text-gray-600"),c(P,"class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"),c(V,"class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"),c(M,"class","mt-6 flex gap-3 justify-center"),c(e,"class","text-center py-12")},m(y,w){L(y,e,w),u(e,t),u(t,l),u(e,i),u(e,r),u(e,f),u(e,n),u(n,a),u(n,d),u(n,m),u(n,k),u(n,D),u(e,x),u(e,g),u(e,j),u(e,M),u(M,P),u(M,ee),u(M,V),F||(te=[se(P,"click",s[13]),se(V,"click",s[17])],F=!0)},p(y,w){w&128&&W(d,y[7]),w&384&&h!==(h=y[7]&&y[8]?" - ":"")&&W(m,h),w&256&&W(k,y[8])},i:Y,o:Y,d(y){y&&_(e),F=!1,yt(te)}}}function Rt(s){let e,t='<svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> <h3 class="mt-2 text-lg font-medium text-gray-900">No persons found</h3> <p class="mt-1 text-gray-500">Get started by adding your first person.</p> <div class="mt-6"><a href="/person/new" class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">Add Person</a></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-jailwg"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-center py-12")},m(l,i){L(l,e,i)},p:Y,i:Y,o:Y,d(l){l&&_(e)}}}function Ot(s){let e,t,l="Error loading persons",i,r,o,f,n,a="Try again",d,h;return{c(){e=p("div"),t=p("p"),t.textContent=l,i=I(),r=p("p"),o=R(s[4]),f=I(),n=p("button"),n.textContent=a,this.h()},l(m){e=v(m,"DIV",{class:!0});var k=C(e);t=v(k,"P",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1vtx07o"&&(t.textContent=l),i=q(k),r=v(k,"P",{class:!0});var D=C(r);o=H(D,s[4]),D.forEach(_),f=q(k),n=v(k,"BUTTON",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-1lt1l48"&&(n.textContent=a),k.forEach(_),this.h()},h(){c(t,"class","font-medium"),c(r,"class","text-sm mt-1"),c(n,"class","mt-2 text-red-800 hover:text-red-900 font-medium text-sm underline"),c(e,"class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md")},m(m,k){L(m,e,k),u(e,t),u(e,i),u(e,r),u(r,o),u(e,f),u(e,n),d||(h=se(n,"click",s[11]),d=!0)},p(m,k){k&16&&W(o,m[4])},i:Y,o:Y,d(m){m&&_(e),d=!1,h()}}}function zt(s){let e,t='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-5e6cdk"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center items-center h-64")},m(l,i){L(l,e,i)},p:Y,i:Y,o:Y,d(l){l&&_(e)}}}function Ct(s,e){let t,l,i;function r(){return e[23](e[24])}return l=new jt({props:{person:e[24]}}),l.$on("delete",r),{key:s,first:null,c(){t=ue(),Ae(l.$$.fragment),this.h()},l(o){t=ue(),Be(l.$$.fragment,o),this.h()},h(){this.first=t},m(o,f){L(o,t,f),xe(l,o,f),i=!0},p(o,f){e=o;const n={};f&1024&&(n.person=e[24]),l.$set(n)},i(o){i||(oe(l.$$.fragment,o),i=!0)},o(o){fe(l.$$.fragment,o),i=!1},d(o){o&&_(t),je(l,o)}}}function St(s){let e,t,l,i,r='<h1 class="text-3xl font-bold text-gray-900">Person Manager</h1> <p class="text-gray-600 mt-1">Manage your contacts with full CRUD operations</p>',o,f,n,a=s[5]?"Cancel":"Add New Person",d,h,m,k="Full Form",D,x,g,B,j,M,P,O,ee,V=s[5]&&vt(s),A=!s[3]&&!s[5]&&pt(s),F=!s[3]&&!s[5]&&s[1].length>0&&gt(s);const te=[zt,Ot,Rt,Ht,Ft,Lt],y=[];function w(b,E){return b[3]?0:b[4]?1:b[1].length===0?2:b[1].length===0&&b[9]?3:b[10].length===0&&b[2]?4:5}return j=w(s),M=y[j]=te[j](s),{c(){e=I(),t=p("div"),l=p("div"),i=p("div"),i.innerHTML=r,o=I(),f=p("div"),n=p("button"),d=R(a),h=I(),m=p("a"),m.textContent=k,D=I(),V&&V.c(),x=I(),A&&A.c(),g=I(),F&&F.c(),B=I(),M.c(),this.h()},l(b){Et("svelte-1enopw8",document.head).forEach(_),e=q(b),t=v(b,"DIV",{class:!0});var z=C(t);l=v(z,"DIV",{class:!0});var U=C(l);i=v(U,"DIV",{"data-svelte-h":!0}),G(i)!=="svelte-1rphby8"&&(i.innerHTML=r),o=q(U),f=v(U,"DIV",{class:!0});var J=C(f);n=v(J,"BUTTON",{class:!0});var S=C(n);d=H(S,a),S.forEach(_),h=q(J),m=v(J,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(m)!=="svelte-hpnnit"&&(m.textContent=k),J.forEach(_),U.forEach(_),D=q(z),V&&V.l(z),x=q(z),A&&A.l(z),g=q(z),F&&F.l(z),B=q(z),M.l(z),z.forEach(_),this.h()},h(){document.title="Person Manager - Home",c(n,"class","bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors text-center"),c(m,"href","/person/new"),c(m,"class","bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors text-center"),c(f,"class","flex flex-col sm:flex-row gap-3"),c(l,"class","flex flex-col md:flex-row md:justify-between md:items-center gap-4"),c(t,"class","space-y-6")},m(b,E){L(b,e,E),L(b,t,E),u(t,l),u(l,i),u(l,o),u(l,f),u(f,n),u(n,d),u(f,h),u(f,m),u(t,D),V&&V.m(t,null),u(t,x),A&&A.m(t,null),u(t,g),F&&F.m(t,null),u(t,B),y[j].m(t,null),P=!0,O||(ee=se(n,"click",s[17]),O=!0)},p(b,[E]){(!P||E&32)&&a!==(a=b[5]?"Cancel":"Add New Person")&&W(d,a),b[5]?V?(V.p(b,E),E&32&&oe(V,1)):(V=vt(b),V.c(),oe(V,1),V.m(t,x)):V&&(Te(),fe(V,1,1,()=>{V=null}),Me()),!b[3]&&!b[5]?A?(A.p(b,E),E&40&&oe(A,1)):(A=pt(b),A.c(),oe(A,1),A.m(t,g)):A&&(Te(),fe(A,1,1,()=>{A=null}),Me()),!b[3]&&!b[5]&&b[1].length>0?F?F.p(b,E):(F=gt(b),F.c(),F.m(t,B)):F&&(F.d(1),F=null);let z=j;j=w(b),j===z?y[j].p(b,E):(Te(),fe(y[z],1,1,()=>{y[z]=null}),Me(),M=y[j],M?M.p(b,E):(M=y[j]=te[j](b),M.c()),oe(M,1),M.m(t,null))},i(b){P||(oe(V),oe(A),oe(M),P=!0)},o(b){fe(V),fe(A),fe(M),P=!1},d(b){b&&(_(e),_(t)),V&&V.d(),A&&A.d(),F&&F.d(),y[j].d(),O=!1,ee()}}}function Ut(s,e,t){let l,{data:i}=e,r=[],o=!0,f="",n=!1,a=!1,d="",h="",m="",k=!1;Dt(async()=>{await D()});async function D(){try{t(3,o=!0),t(4,f=""),t(1,r=await Pe.getAll()),t(9,k=!1)}catch{t(4,f="Failed to load persons. Please check your internet connection or try again later"),ve("Failed to load persons","error")}finally{t(3,o=!1)}}async function x(y){const{religion:w,caste:b}=y.detail;if(!w&&!b){await D();return}try{t(3,o=!0),t(4,f=""),t(7,h=w),t(8,m=b),t(1,r=await Pe.filterByReligionCaste(w,b)),t(9,k=!0),ve(`Found ${r.length} person(s)`,"info")}catch{t(4,f="Failed to filter persons"),ve("Failed to filter persons","error")}finally{t(3,o=!1)}}async function g(){t(7,h=""),t(8,m=""),t(2,d=""),await D()}async function B(y){if(confirm("Are you sure you want to delete this person?"))try{await Pe.delete(y),t(1,r=r.filter(w=>w._id!==y)),ve("Person deleted successfully","success")}catch{ve("Failed to delete person","error")}}async function j(y){const w=y.detail;try{t(6,a=!0);const b=await Pe.create(w);t(1,r=[b,...r]),ve("Person created successfully","success"),t(5,n=!1)}catch{ve("Failed to create person","error")}finally{t(6,a=!1)}}function M(){t(5,n=!1)}function P(){t(5,n=!n)}function O(y){h=y,t(7,h)}function ee(y){m=y,t(8,m)}function V(){d=this.value,t(2,d)}const A=()=>t(2,d=""),F=()=>t(2,d=""),te=y=>B(y._id||"");return s.$$set=y=>{"data"in y&&t(0,i=y.data)},s.$$.update=()=>{s.$$.dirty&6&&t(10,l=r.filter(y=>{var b,E;if(!d.trim())return!0;const w=d.toLowerCase();return y.firstName.toLowerCase().includes(w)||y.lastName.toLowerCase().includes(w)||y.email.toLowerCase().includes(w)||y.phone.includes(w)||(((b=y.address)==null?void 0:b.city)||"").toLowerCase().includes(w)||(((E=y.address)==null?void 0:E.state)||"").toLowerCase().includes(w)}))},[i,r,d,o,f,n,a,h,m,k,l,D,x,g,B,j,M,P,O,ee,V,A,F,te]}class Yt extends qe{constructor(e){super(),Ie(this,e,Ut,St,Ve,{data:0})}}export{Yt as component};
