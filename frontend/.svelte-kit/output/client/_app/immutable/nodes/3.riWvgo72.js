import{S as $e,i as et,s as tt,n as ke,d as n,b as z,c as i,m as o,o as lt,h as N,e as _,f as b,p as O,k as P,j as p,l as st,q as rt,a as q,g as T,t as H,r as Ze,u as W,v as X,w as R,x as xe}from"../chunks/udWJkB2W.js";import"../chunks/IHki7fMi.js";import{p as at}from"../chunks/D74eoekk.js";import{g as it}from"../chunks/DnrJa5CO.js";import{P as Se}from"../chunks/DtMNPjmS.js";import{a as Ie}from"../chunks/xuENUTr7.js";function qe(r){let e,t=r[0].firstName+"",l,s,a=r[0].lastName+"",u,h,m,c="Person Details";return{c(){e=p("h1"),l=H(t),s=P(),u=H(a),h=P(),m=p("p"),m.textContent=c,this.h()},l(v){e=_(v,"H1",{class:!0});var k=b(e);l=T(k,t),s=N(k),u=T(k,a),k.forEach(n),h=N(v),m=_(v,"P",{class:!0,"data-svelte-h":!0}),O(m)!=="svelte-1o5cimf"&&(m.textContent=c),this.h()},h(){o(e,"class","text-3xl font-bold text-gray-900"),o(m,"class","text-gray-600 mt-1")},m(v,k){z(v,e,k),i(e,l),i(e,s),i(e,u),z(v,h,k),z(v,m,k)},p(v,k){k&1&&t!==(t=v[0].firstName+"")&&q(l,t),k&1&&a!==(a=v[0].lastName+"")&&q(u,a)},d(v){v&&(n(e),n(h),n(m))}}}function ot(r){let e,t='<p class="text-gray-500">Person not found</p> <a href="/" class="text-blue-600 hover:text-blue-800 font-medium mt-2 inline-block">Go back home</a>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-hemg8m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-center py-12")},m(l,s){z(l,e,s)},p:ke,d(l){l&&n(e)}}}function nt(r){let e,t,l,s,a,u=r[0].firstName+"",h,m,c=r[0].lastName+"",v,k,d,f=r[0].phone+"",g,w,y,C,D,j="Email Address",B,M,I,E,L,U,J=r[0].email+"",F,K,se,re,Ne="Phone Number",ge,Y,Q,Z,ye,ae,ie=r[0].phone+"",oe,Ee,ne,Ce,$,ee,we,de,Ve,te,Pe="Delete Person",De,Me;function je(V,A){return V[0].image?ct:ut}let fe=je(r),G=fe(r),x=(r[0].religion||r[0].caste)&&Ue(r),S=r[0].address&&(r[0].address.street||r[0].address.city||r[0].address.state||r[0].address.country)&&Re(r);return{c(){e=p("div"),t=p("div"),G.c(),l=P(),s=p("div"),a=p("h2"),h=H(u),m=P(),v=H(c),k=P(),d=p("p"),g=H(f),w=P(),y=p("div"),C=p("div"),D=p("div"),D.textContent=j,B=P(),M=p("div"),I=X("svg"),E=X("path"),L=P(),U=p("span"),F=H(J),K=P(),se=p("div"),re=p("div"),re.textContent=Ne,ge=P(),Y=p("div"),Q=X("svg"),Z=X("path"),ye=P(),ae=p("span"),oe=H(ie),Ee=P(),x&&x.c(),ne=P(),S&&S.c(),Ce=P(),$=p("div"),ee=p("a"),we=H("Edit Person"),Ve=P(),te=p("button"),te.textContent=Pe,this.h()},l(V){e=_(V,"DIV",{class:!0});var A=b(e);t=_(A,"DIV",{class:!0});var ue=b(t);G.l(ue),l=N(ue),s=_(ue,"DIV",{});var ce=b(s);a=_(ce,"H2",{class:!0});var ve=b(a);h=T(ve,u),m=N(ve),v=T(ve,c),ve.forEach(n),k=N(ce),d=_(ce,"P",{class:!0});var ze=b(d);g=T(ze,f),ze.forEach(n),ce.forEach(n),ue.forEach(n),w=N(A),y=_(A,"DIV",{class:!0});var le=b(y);C=_(le,"DIV",{});var he=b(C);D=_(he,"DIV",{class:!0,"data-svelte-h":!0}),O(D)!=="svelte-rsrvxi"&&(D.textContent=j),B=N(he),M=_(he,"DIV",{class:!0});var me=b(M);I=W(me,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var Be=b(I);E=W(Be,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(E).forEach(n),Be.forEach(n),L=N(me),U=_(me,"SPAN",{class:!0});var Ae=b(U);F=T(Ae,J),Ae.forEach(n),me.forEach(n),he.forEach(n),K=N(le),se=_(le,"DIV",{});var _e=b(se);re=_(_e,"DIV",{class:!0,"data-svelte-h":!0}),O(re)!=="svelte-zcvx35"&&(re.textContent=Ne),ge=N(_e),Y=_(_e,"DIV",{class:!0});var pe=b(Y);Q=W(pe,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var Te=b(Q);Z=W(Te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(Z).forEach(n),Te.forEach(n),ye=N(pe),ae=_(pe,"SPAN",{class:!0});var He=b(ae);oe=T(He,ie),He.forEach(n),pe.forEach(n),_e.forEach(n),Ee=N(le),x&&x.l(le),ne=N(le),S&&S.l(le),le.forEach(n),Ce=N(A),$=_(A,"DIV",{class:!0});var be=b($);ee=_(be,"A",{href:!0,class:!0});var Le=b(ee);we=T(Le,"Edit Person"),Le.forEach(n),Ve=N(be),te=_(be,"BUTTON",{class:!0,"data-svelte-h":!0}),O(te)!=="svelte-nvtr1t"&&(te.textContent=Pe),be.forEach(n),A.forEach(n),this.h()},h(){o(a,"class","text-2xl font-bold text-gray-900"),o(d,"class","text-gray-600"),o(t,"class","flex items-center space-x-4 mb-8"),o(D,"class","block text-sm font-medium text-gray-700 mb-2"),o(E,"stroke-linecap","round"),o(E,"stroke-linejoin","round"),o(E,"stroke-width","2"),o(E,"d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"),o(I,"class","w-5 h-5 mr-3 text-gray-400"),o(I,"fill","none"),o(I,"viewBox","0 0 24 24"),o(I,"stroke","currentColor"),o(U,"class","text-gray-900"),o(M,"class","flex items-center p-3 bg-gray-50 rounded-md"),o(re,"class","block text-sm font-medium text-gray-700 mb-2"),o(Z,"stroke-linecap","round"),o(Z,"stroke-linejoin","round"),o(Z,"stroke-width","2"),o(Z,"d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"),o(Q,"class","w-5 h-5 mr-3 text-gray-400"),o(Q,"fill","none"),o(Q,"viewBox","0 0 24 24"),o(Q,"stroke","currentColor"),o(ae,"class","text-gray-900"),o(Y,"class","flex items-center p-3 bg-gray-50 rounded-md"),o(y,"class","space-y-6 mb-8"),o(ee,"href",de="/person/"+r[0]._id+"/edit"),o(ee,"class","flex-1 text-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors"),o(te,"class","flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md font-medium transition-colors"),o($,"class","flex space-x-3"),o(e,"class","bg-white shadow-sm rounded-lg p-8")},m(V,A){z(V,e,A),i(e,t),G.m(t,null),i(t,l),i(t,s),i(s,a),i(a,h),i(a,m),i(a,v),i(s,k),i(s,d),i(d,g),i(e,w),i(e,y),i(y,C),i(C,D),i(C,B),i(C,M),i(M,I),i(I,E),i(M,L),i(M,U),i(U,F),i(y,K),i(y,se),i(se,re),i(se,ge),i(se,Y),i(Y,Q),i(Q,Z),i(Y,ye),i(Y,ae),i(ae,oe),i(y,Ee),x&&x.m(y,null),i(y,ne),S&&S.m(y,null),i(e,Ce),i(e,$),i($,ee),i(ee,we),i($,Ve),i($,te),De||(Me=Ze(te,"click",r[5]),De=!0)},p(V,A){fe===(fe=je(V))&&G?G.p(V,A):(G.d(1),G=fe(V),G&&(G.c(),G.m(t,l))),A&1&&u!==(u=V[0].firstName+"")&&q(h,u),A&1&&c!==(c=V[0].lastName+"")&&q(v,c),A&1&&f!==(f=V[0].phone+"")&&q(g,f),A&1&&J!==(J=V[0].email+"")&&q(F,J),A&1&&ie!==(ie=V[0].phone+"")&&q(oe,ie),V[0].religion||V[0].caste?x?x.p(V,A):(x=Ue(V),x.c(),x.m(y,ne)):x&&(x.d(1),x=null),V[0].address&&(V[0].address.street||V[0].address.city||V[0].address.state||V[0].address.country)?S?S.p(V,A):(S=Re(V),S.c(),S.m(y,null)):S&&(S.d(1),S=null),A&1&&de!==(de="/person/"+V[0]._id+"/edit")&&o(ee,"href",de)},d(V){V&&n(e),G.d(),x&&x.d(),S&&S.d(),De=!1,Me()}}}function dt(r){let e,t,l="Error loading person",s,a,u,h,m,c="Try again",v,k;return{c(){e=p("div"),t=p("p"),t.textContent=l,s=P(),a=p("p"),u=H(r[2]),h=P(),m=p("button"),m.textContent=c,this.h()},l(d){e=_(d,"DIV",{class:!0});var f=b(e);t=_(f,"P",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-qm0id1"&&(t.textContent=l),s=N(f),a=_(f,"P",{class:!0});var g=b(a);u=T(g,r[2]),g.forEach(n),h=N(f),m=_(f,"BUTTON",{class:!0,"data-svelte-h":!0}),O(m)!=="svelte-1yrcvu6"&&(m.textContent=c),f.forEach(n),this.h()},h(){o(t,"class","font-medium"),o(a,"class","text-sm mt-1"),o(m,"class","mt-2 text-red-800 hover:text-red-900 font-medium text-sm underline"),o(e,"class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md")},m(d,f){z(d,e,f),i(e,t),i(e,s),i(e,a),i(a,u),i(e,h),i(e,m),v||(k=Ze(m,"click",r[7]),v=!0)},p(d,f){f&4&&q(u,d[2])},d(d){d&&n(e),v=!1,k()}}}function ft(r){let e,t='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-5e6cdk"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex justify-center items-center h-64")},m(l,s){z(l,e,s)},p:ke,d(l){l&&n(e)}}}function ut(r){let e,t,l=r[0].firstName.charAt(0).toUpperCase()+"",s;return{c(){e=p("div"),t=p("span"),s=H(l),this.h()},l(a){e=_(a,"DIV",{class:!0});var u=b(e);t=_(u,"SPAN",{class:!0});var h=b(t);s=T(h,l),h.forEach(n),u.forEach(n),this.h()},h(){o(t,"class","text-blue-600 font-bold text-2xl"),o(e,"class","w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center")},m(a,u){z(a,e,u),i(e,t),i(t,s)},p(a,u){u&1&&l!==(l=a[0].firstName.charAt(0).toUpperCase()+"")&&q(s,l)},d(a){a&&n(e)}}}function ct(r){let e,t,l;return{c(){e=p("img"),this.h()},l(s){e=_(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){xe(e.src,t=r[0].image)||o(e,"src",t),o(e,"alt",l=r[0].firstName+" "+r[0].lastName),o(e,"class","w-16 h-16 rounded-full object-cover border-2 border-gray-200")},m(s,a){z(s,e,a)},p(s,a){a&1&&!xe(e.src,t=s[0].image)&&o(e,"src",t),a&1&&l!==(l=s[0].firstName+" "+s[0].lastName)&&o(e,"alt",l)},d(s){s&&n(e)}}}function Ue(r){let e,t,l="Religion & Caste",s,a,u,h,m,c,v,k,d=r[0].religion&&Fe(r),f=r[0].religion&&r[0].caste&&Ge(),g=r[0].caste&&Oe(r);return{c(){e=p("div"),t=p("div"),t.textContent=l,s=P(),a=p("div"),u=X("svg"),h=X("path"),m=P(),c=p("span"),d&&d.c(),v=R(),f&&f.c(),k=R(),g&&g.c(),this.h()},l(w){e=_(w,"DIV",{});var y=b(e);t=_(y,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-5sh90f"&&(t.textContent=l),s=N(y),a=_(y,"DIV",{class:!0});var C=b(a);u=W(C,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var D=b(u);h=W(D,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(h).forEach(n),D.forEach(n),m=N(C),c=_(C,"SPAN",{class:!0});var j=b(c);d&&d.l(j),v=R(),f&&f.l(j),k=R(),g&&g.l(j),j.forEach(n),C.forEach(n),y.forEach(n),this.h()},h(){o(t,"class","block text-sm font-medium text-gray-700 mb-2"),o(h,"stroke-linecap","round"),o(h,"stroke-linejoin","round"),o(h,"stroke-width","2"),o(h,"d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"),o(u,"class","w-5 h-5 mr-3 text-gray-400"),o(u,"fill","none"),o(u,"viewBox","0 0 24 24"),o(u,"stroke","currentColor"),o(c,"class","text-gray-900"),o(a,"class","flex items-center p-3 bg-gray-50 rounded-md")},m(w,y){z(w,e,y),i(e,t),i(e,s),i(e,a),i(a,u),i(u,h),i(a,m),i(a,c),d&&d.m(c,null),i(c,v),f&&f.m(c,null),i(c,k),g&&g.m(c,null)},p(w,y){w[0].religion?d?d.p(w,y):(d=Fe(w),d.c(),d.m(c,v)):d&&(d.d(1),d=null),w[0].religion&&w[0].caste?f||(f=Ge(),f.c(),f.m(c,k)):f&&(f.d(1),f=null),w[0].caste?g?g.p(w,y):(g=Oe(w),g.c(),g.m(c,null)):g&&(g.d(1),g=null)},d(w){w&&n(e),d&&d.d(),f&&f.d(),g&&g.d()}}}function Fe(r){let e=r[0].religion+"",t;return{c(){t=H(e)},l(l){t=T(l,e)},m(l,s){z(l,t,s)},p(l,s){s&1&&e!==(e=l[0].religion+"")&&q(t,e)},d(l){l&&n(t)}}}function Ge(r){let e;return{c(){e=H("- ")},l(t){e=T(t,"- ")},m(t,l){z(t,e,l)},d(t){t&&n(e)}}}function Oe(r){let e=r[0].caste+"",t;return{c(){t=H(e)},l(l){t=T(l,e)},m(l,s){z(l,t,s)},p(l,s){s&1&&e!==(e=l[0].caste+"")&&q(t,e)},d(l){l&&n(t)}}}function Re(r){let e,t,l="Address",s,a,u,h,m,c,v,k,d,f,g,w,y,C=r[0].address.street&&Je(r),D=r[0].address.city&&Ke(r),j=r[0].address.city&&(r[0].address.state||r[0].address.zipCode)&&Qe(),B=r[0].address.state&&We(r),M=r[0].address.zipCode&&Xe(r),I=r[0].address.country&&Ye(r);return{c(){e=p("div"),t=p("div"),t.textContent=l,s=P(),a=p("div"),u=X("svg"),h=X("path"),m=X("path"),c=P(),v=p("div"),C&&C.c(),k=P(),d=p("div"),D&&D.c(),f=R(),j&&j.c(),g=R(),B&&B.c(),w=R(),M&&M.c(),y=P(),I&&I.c(),this.h()},l(E){e=_(E,"DIV",{});var L=b(e);t=_(L,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1es5dee"&&(t.textContent=l),s=N(L),a=_(L,"DIV",{class:!0});var U=b(a);u=W(U,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var J=b(u);h=W(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(h).forEach(n),m=W(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(m).forEach(n),J.forEach(n),c=N(U),v=_(U,"DIV",{class:!0});var F=b(v);C&&C.l(F),k=N(F),d=_(F,"DIV",{});var K=b(d);D&&D.l(K),f=R(),j&&j.l(K),g=R(),B&&B.l(K),w=R(),M&&M.l(K),K.forEach(n),y=N(F),I&&I.l(F),F.forEach(n),U.forEach(n),L.forEach(n),this.h()},h(){o(t,"class","block text-sm font-medium text-gray-700 mb-2"),o(h,"stroke-linecap","round"),o(h,"stroke-linejoin","round"),o(h,"stroke-width","2"),o(h,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),o(m,"stroke-linecap","round"),o(m,"stroke-linejoin","round"),o(m,"stroke-width","2"),o(m,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),o(u,"class","w-5 h-5 mr-3 text-gray-400 mt-0.5"),o(u,"fill","none"),o(u,"viewBox","0 0 24 24"),o(u,"stroke","currentColor"),o(v,"class","text-gray-900"),o(a,"class","flex items-start p-3 bg-gray-50 rounded-md")},m(E,L){z(E,e,L),i(e,t),i(e,s),i(e,a),i(a,u),i(u,h),i(u,m),i(a,c),i(a,v),C&&C.m(v,null),i(v,k),i(v,d),D&&D.m(d,null),i(d,f),j&&j.m(d,null),i(d,g),B&&B.m(d,null),i(d,w),M&&M.m(d,null),i(v,y),I&&I.m(v,null)},p(E,L){E[0].address.street?C?C.p(E,L):(C=Je(E),C.c(),C.m(v,k)):C&&(C.d(1),C=null),E[0].address.city?D?D.p(E,L):(D=Ke(E),D.c(),D.m(d,f)):D&&(D.d(1),D=null),E[0].address.city&&(E[0].address.state||E[0].address.zipCode)?j||(j=Qe(),j.c(),j.m(d,g)):j&&(j.d(1),j=null),E[0].address.state?B?B.p(E,L):(B=We(E),B.c(),B.m(d,w)):B&&(B.d(1),B=null),E[0].address.zipCode?M?M.p(E,L):(M=Xe(E),M.c(),M.m(d,null)):M&&(M.d(1),M=null),E[0].address.country?I?I.p(E,L):(I=Ye(E),I.c(),I.m(v,null)):I&&(I.d(1),I=null)},d(E){E&&n(e),C&&C.d(),D&&D.d(),j&&j.d(),B&&B.d(),M&&M.d(),I&&I.d()}}}function Je(r){let e,t=r[0].address.street+"",l;return{c(){e=p("div"),l=H(t)},l(s){e=_(s,"DIV",{});var a=b(e);l=T(a,t),a.forEach(n)},m(s,a){z(s,e,a),i(e,l)},p(s,a){a&1&&t!==(t=s[0].address.street+"")&&q(l,t)},d(s){s&&n(e)}}}function Ke(r){let e=r[0].address.city+"",t;return{c(){t=H(e)},l(l){t=T(l,e)},m(l,s){z(l,t,s)},p(l,s){s&1&&e!==(e=l[0].address.city+"")&&q(t,e)},d(l){l&&n(t)}}}function Qe(r){let e;return{c(){e=H(", ")},l(t){e=T(t,", ")},m(t,l){z(t,e,l)},d(t){t&&n(e)}}}function We(r){let e=r[0].address.state+"",t;return{c(){t=H(e)},l(l){t=T(l,e)},m(l,s){z(l,t,s)},p(l,s){s&1&&e!==(e=l[0].address.state+"")&&q(t,e)},d(l){l&&n(t)}}}function Xe(r){let e=r[0].address.zipCode+"",t;return{c(){t=H(e)},l(l){t=T(l,e)},m(l,s){z(l,t,s)},p(l,s){s&1&&e!==(e=l[0].address.zipCode+"")&&q(t,e)},d(l){l&&n(t)}}}function Ye(r){let e,t=r[0].address.country+"",l;return{c(){e=p("div"),l=H(t)},l(s){e=_(s,"DIV",{});var a=b(e);l=T(a,t),a.forEach(n)},m(s,a){z(s,e,a),i(e,l)},p(s,a){a&1&&t!==(t=s[0].address.country+"")&&q(l,t)},d(s){s&&n(e)}}}function vt(r){let e,t,l,s,a,u=`<a href="/" class="text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center"><svg class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
				Back to Home</a>`,h,m;document.title=e=r[0]?`${r[0].firstName} ${r[0].lastName} - Person Manager`:"Loading... - Person Manager";let c=r[0]&&qe(r);function v(f,g){return f[1]?ft:f[2]?dt:f[0]?nt:ot}let k=v(r),d=k(r);return{c(){t=P(),l=p("div"),s=p("div"),a=p("nav"),a.innerHTML=u,h=P(),c&&c.c(),m=P(),d.c(),this.h()},l(f){lt("svelte-1nebi5m",document.head).forEach(n),t=N(f),l=_(f,"DIV",{class:!0});var w=b(l);s=_(w,"DIV",{class:!0});var y=b(s);a=_(y,"NAV",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-15elsds"&&(a.innerHTML=u),h=N(y),c&&c.l(y),y.forEach(n),m=N(w),d.l(w),w.forEach(n),this.h()},h(){o(a,"class","flex mb-4"),o(s,"class","mb-6"),o(l,"class","max-w-2xl mx-auto")},m(f,g){z(f,t,g),z(f,l,g),i(l,s),i(s,a),i(s,h),c&&c.m(s,null),i(l,m),d.m(l,null)},p(f,[g]){g&1&&e!==(e=f[0]?`${f[0].firstName} ${f[0].lastName} - Person Manager`:"Loading... - Person Manager")&&(document.title=e),f[0]?c?c.p(f,g):(c=qe(f),c.c(),c.m(s,null)):c&&(c.d(1),c=null),k===(k=v(f))&&d?d.p(f,g):(d.d(1),d=k(f),d&&(d.c(),d.m(l,null)))},i:ke,o:ke,d(f){f&&(n(t),n(l)),c&&c.d(),d.d()}}}function ht(r,e,t){let l,s;st(r,at,k=>t(6,s=k));let a=null,u=!0,h="";rt(async()=>{l&&await m(l)});async function m(k){try{t(1,u=!0),t(2,h=""),t(0,a=await Se.getById(k))}catch{t(2,h="Failed to load person details"),Ie("Failed to load person details","error")}finally{t(1,u=!1)}}async function c(){if(!(!(a!=null&&a._id)||!confirm("Are you sure you want to delete this person?")))try{await Se.delete(a._id),Ie("Person deleted successfully","success"),it("/")}catch{Ie("Failed to delete person","error")}}const v=()=>l&&m(l);return r.$$.update=()=>{r.$$.dirty&64&&t(3,l=s.params.id)},[a,u,h,l,m,c,s,v]}class yt extends $e{constructor(e){super(),et(this,e,ht,vt,tt,{})}}export{yt as component};
